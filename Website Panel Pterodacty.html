<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Buy Kebutuhan Hosting/JB</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
<style>
  /* Reset & base */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body, html {
    height: 100%;
    font-family: 'Inter', sans-serif;
    background: linear-gradient(120deg, #0ff, #0f0, #0cf, #0f0);
    background-size: 400% 400%;
    animation: neonGradient 15s ease infinite;
    color: #e0f7fa;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 16px;
  }
  @keyframes neonGradient {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }

  /* Neon floating shapes background */
  #backgroundAnim {
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    pointer-events: none;
    z-index: 0;
  }
  .floating-line {
    position: absolute;
    width: 80px;
    height: 2px;
    background: rgba(0,255,255,0.3);
    filter: drop-shadow(0 0 5px #0ff);
    animation: floatLine 6s ease-in-out infinite;
    border-radius: 4px;
  }
  .floating-line:nth-child(1) {
    top: 20%; left: 10%;
    animation-delay: 0s;
    width: 100px;
  }
  .floating-line:nth-child(2) {
    top: 40%; left: 80%;
    animation-delay: 2s;
  }
  .floating-line:nth-child(3) {
    top: 70%; left: 40%;
    animation-delay: 4s;
    width: 150px;
  }
  @keyframes floatLine {
    0%,100% { transform: translateY(0) }
    50% { transform: translateY(-20px) }
  }

  /* Container */
  .buy-panel-container {
    position: relative;
    background: rgba(0, 0, 0, 0.65);
    border-radius: 16px;
    box-shadow: 0 0 20px #00fff7;
    width: 100%;
    max-width: 480px;
    padding: 32px;
    z-index: 1;
  }

  /* Title */
  .panel-title {
    font-weight: 700;
    font-size: 2rem;
    color: #00fff7;
    text-align: center;
    margin-bottom: 24px;
    letter-spacing: 1.2px;
    text-shadow:
      0 0 6px #00fff7,
      0 0 12px #00fff7;
  }

  /* Form elements */
  label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
    color: #b2fef7;
    text-shadow: 0 0 4px #00fff7;
  }
  select, input[type="text"] {
    width: 100%;
    padding: 12px 16px;
    margin-bottom: 20px;
    border-radius: 12px;
    border: 1.5px solid #00fff7;
    background: rgba(0, 255, 255, 0.1);
    color: #e0f7fa;
    font-size: 1rem;
    box-shadow:
      inset 0 0 6px #00fff7;
    transition: border-color 0.3s ease;
  }
  select:focus, input[type="text"]:focus {
    border-color: #0ff;
    outline: none;
    box-shadow:
      0 0 10px #00fff7;
    background: rgba(0,255,255,0.15);
  }

  /* Buy button */
  .btn-buy {
    width: 100%;
    padding: 16px;
    font-size: 1.25rem;
    font-weight: 700;
    color: #000;
    background: #00fff7;
    border: none;
    border-radius: 14px;
    cursor: pointer;
    box-shadow:
      0 4px 14px #00fff7;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
  }
  .btn-buy:hover {
    background-color: #00e6e6;
    box-shadow:
      0 6px 20px #00e6e6;
  }
  .btn-buy:disabled {
    background-color: #00aaa7;
    cursor: not-allowed;
    box-shadow: none;
  }

  /* Loading spinner */
  .loading-spinner {
    display: inline-block;
    width: 24px;
    height: 24px;
    border: 3px solid #00fff7;
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    vertical-align: middle;
    margin-left: 10px;
    filter: drop-shadow(0 0 6px #00fff7);
  }
  @keyframes spin {
    to { transform: rotate(360deg) }
  }

  /* Payment panel */
  .payment-info {
    margin-top: 24px;
    background: rgba(0, 255, 255, 0.1);
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 0 18px #00fff7;
  }
  .payment-info h3 {
    color: #00fff7;
    font-weight: 700;
    margin-bottom: 16px;
    text-shadow:
      0 0 8px #00fff7;
  }
  .payment-item {
    margin-bottom: 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1rem;
    color: #d0fefe;
    word-break: break-word;
  }
  .payment-item span {
    text-shadow: 0 0 3px #00fff7;
  }
  /* Copy button */
  .btn-copy {
    background: #00fff7;
    border: none;
    padding: 6px 14px;
    color: #000;
    font-weight: 700;
    font-size: 0.9rem;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 0 8px #00fff7;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: background-color 0.3s ease;
  }
  .btn-copy:hover {
    background-color: #00e6e6;
  }

  /* QRIS Link */
  .qris-link {
    display: inline-flex;
    align-items: center;
    margin-top: 12px;
    color: #00fff7;
    text-decoration: none;
    font-weight: 600;
    font-size: 1rem;
    gap: 8px;
    filter: drop-shadow(0 0 6px #00fff7);
  }
  .qris-link:hover {
    text-decoration: underline;
  }

  /* WhatsApp Button */
  .btn-whatsapp {
    margin-top: 24px;
    width: 100%;
    background: #25D366;
    color: white;
    border: none;
    font-weight: 700;
    font-size: 1.1rem;
    padding: 14px;
    border-radius: 16px;
    cursor: pointer;
    box-shadow:
      0 4px 14px #25D366;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    transition: background-color 0.3s ease;
  }
  .btn-whatsapp:hover {
    background-color: #1ebe58;
    box-shadow: 0 6px 18px #1ebe58;
  }

  /* Responsive */
  @media (max-width: 640px) {
    .buy-panel-container {
      padding: 24px 20px;
      max-width: 100%;
    }
  }
</style>
</head>
<body>
<div id="backgroundAnim" aria-hidden="true">
  <div class="floating-line"></div>
  <div class="floating-line"></div>
  <div class="floating-line"></div>
</div>
<main class="buy-panel-container" role="main" aria-label="Panel purchase form">
  <h1 class="panel-title">"Buy Kebutuhan Hosting/JB"</h1>
  <form id="buyForm" aria-describedby="descriptionText" novalidate>
    <label for="packageSelect">Pilih Paket</label>
    <select name="package" id="packageSelect" required aria-required="true" aria-label="Pilih paket panel">
      <option value="" disabled selected>-- Pilih Paket --</option>
      <option value="1GB|1000">1 GB - Rp1.000</option>
      <option value="2GB|2000">2 GB - Rp2.000</option>
      <option value="3GB|3000">3 GB - Rp3.000</option>
      <option value="4GB|4000">4 GB - Rp4.000</option>
      <option value="5GB|5000">5 GB - Rp5.000</option>
      <option value="6GB|6000">6 GB - Rp6.000</option>
      <option value="7GB|7000">7 GB - Rp7.000</option>
      <option value="8GB|8000">8 GB - Rp8.000</option>
      <option value="9GB|9000">9 GB - Rp9.000</option>
      <option value="10GB|10000">10 GB - Rp10.000</option>
      <option value="Unli|12000">Unli - Rp12.000</option>
      <option value="Reseller Panel|10000">Reseller Panel - Rp10.000</option>
      <option value="Owner Panel|20000">Owner Panel - Rp20.000</option>
      <option value="Admin Panel|15000">Admin Panel - Rp15.000</option>
      <option value="Tangan Kanan Panel|25000">Tangan Kanan Panel - Rp25.000</option>
      <option value="Partner Panel|18000">Partner Panel - Rp18.000</option>
    </select>

    <label for="targetNumber">No Target (Untuk dikirim data akun panelnya)</label>
    <input type="text" id="targetNumber" name="targetNumber" placeholder="Masukkan Nomor Target" required aria-required="true" autocomplete="off" inputmode="tel" pattern="[\d\s+-]+" title="Masukkan nomor yang valid" />

    <label for="accountName">Nama Data Akun Panel Anda</label>
    <input type="text" id="accountName" name="accountName" placeholder="Masukkan Nama Akun Panel Anda" required aria-required="true" autocomplete="off" />

    <button type="submit" class="btn-buy" id="buyButton" aria-live="polite" aria-busy="false">
      Beli Sekarang
      <span id="loadingSpinner" class="loading-spinner" style="display:none;" aria-hidden="true"></span>
    </button>
  </form>

  <section id="paymentSection" class="payment-info" aria-live="polite" style="display:none;">
    <h3>Detail Pembayaran</h3>
    <div class="payment-item">
      <span>Nominal:</span>
      <span id="paymentNominal"></span>
    </div>
    <div class="payment-item">
      <span>Barang:</span>
      <span id="paymentItem"></span>
    </div>
    <div class="payment-item">
      <span>Waktu Transaksi:</span>
      <span id="paymentTime"></span>
    </div>
    <div class="payment-item">
      <span>Nomor Target:</span>
      <span id="paymentTarget"></span>
    </div>
    <div class="payment-item">
      <span>Nama Akun Panel:</span>
      <span id="paymentAccountName"></span>
    </div>
    <div class="payment-item" style="gap: 12px;">
      <span>Nomor Dana:</span>
      <span id="danaNumber" style="user-select: text; font-weight: 700;">085715578506</span>
      <button class="btn-copy" id="copyDanaBtn" aria-label="Salin nomor Dana ke clipboard" title="Salin Nomor Dana">
        <span class="material-icons" aria-hidden="true">content_copy</span> Salin
      </button>
    </div>
    <a href="https://files.catbox.moe/2hv398.jpg" target="_blank" rel="noopener noreferrer" class="qris-link" aria-label="Buka link QRIS untuk pembayaran">
      <span class="material-icons" aria-hidden="true">qr_code</span> Bayar via QRIS
    </a>

    <button class="btn-whatsapp" id="whatsappSendBtn" aria-label="Kirim Detail Pesanan lewat WhatsApp">
      <span class="material-icons">whatsapp</span> Kirim Pesanan via WhatsApp
    </button>
  </section>
</main>

<script>
  (function(){
    const buyForm = document.getElementById('buyForm');
    const buyButton = document.getElementById('buyButton');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const paymentSection = document.getElementById('paymentSection');
    const paymentNominal = document.getElementById('paymentNominal');
    const paymentItem = document.getElementById('paymentItem');
    const paymentTime = document.getElementById('paymentTime');
    const paymentTarget = document.getElementById('paymentTarget');
    const paymentAccountName = document.getElementById('paymentAccountName');
    const copyDanaBtn = document.getElementById('copyDanaBtn');
    const danaNumber = document.getElementById('danaNumber');
    const whatsappSendBtn = document.getElementById('whatsappSendBtn');
    const packageSelect = document.getElementById('packageSelect');
    let currentOrder = null;

    function formatRp(number) {
      return 'Rp' + number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
    }

    function createWhatsAppUrl(order) {
      const text = 
        `Detail Pesanan:%0A` +
        `Nominal: ${order.nominal}%0A` +
        `Barang: ${order.barang}%0A` +
        `Waktu trx: ${order.waktuTrx}%0A` +
        `No target: ${order.noTarget}%0A` +
        `Nama Data Akun Panel Anda: ${order.namaAkunPanel}%0A%0A` +
        `Mohon segera dilakukan ya. Terima kasih.`;
      // WhatsApp international phone number without +
      // For demonstration, let's use generic number "6283170618607"
      const waNumber = '6283170618607';
      return `https://wa.me/${waNumber}?text=${text}`;
    }

    buyForm.addEventListener('submit', function(e) {
      e.preventDefault();
      if (!buyForm.reportValidity()) {
        return;
      }
      const selectedValue = packageSelect.value;
      if (!selectedValue) {
        alert('Silakan pilih paket terlebih dahulu');
        return;
      }
      const [barang, priceStr] = selectedValue.split('|');
      const price = Number(priceStr);
      const noTarget = buyForm.targetNumber.value.trim();
      const namaAkunPanel = buyForm.accountName.value.trim();
      if (!noTarget || !namaAkunPanel) {
        alert('Mohon isi semua data dengan lengkap');
        return;
      }

      // Disable buy button and show loading
      buyButton.disabled = true;
      buyButton.setAttribute('aria-busy', 'true');
      loadingSpinner.style.display = 'inline-block';

      // Simulate loading 2.5 seconds
      setTimeout(() => {
        buyButton.disabled = false;
        buyButton.setAttribute('aria-busy', 'false');
        loadingSpinner.style.display = 'none';

        // Show payment info
        const now = new Date();
        const waktuTrx = now.toLocaleString('id-ID', {
          day: '2-digit', month: '2-digit', year: 'numeric',
          hour: '2-digit', minute: '2-digit', second: '2-digit'
        });

        paymentNominal.textContent = formatRp(price);
        paymentItem.textContent = barang;
        paymentTime.textContent = waktuTrx;
        paymentTarget.textContent = noTarget;
        paymentAccountName.textContent = namaAkunPanel;

        paymentSection.style.display = 'block';

        currentOrder = {
          nominal: formatRp(price),
          barang,
          waktuTrx,
          noTarget,
          namaAkunPanel
        };
        // Scroll payment section into view on mobile
        paymentSection.scrollIntoView({ behavior: 'smooth' });
      }, 2500);
    });

    copyDanaBtn.addEventListener('click', () => {
      const dana = danaNumber.textContent.trim();
      if (!navigator.clipboard) {
        alert('Clipboard API tidak didukung di browser ini');
        return;
      }
      navigator.clipboard.writeText(dana).then(() => {
        copyDanaBtn.textContent = 'Disalin!';
        setTimeout(() => {
          copyDanaBtn.innerHTML = '<span class="material-icons" aria-hidden="true">content_copy</span> Salin';
        }, 2000);
      }).catch(() => {
        alert('Gagal menyalin nomor Dana.');
      });
    });

    whatsappSendBtn.addEventListener('click', () => {
      if (!currentOrder) return;
      const waUrl = createWhatsAppUrl(currentOrder);
      window.open(waUrl, '_blank', 'noopener');
    });
  })();
</script>
</body>
</html>

